"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[494],{7494:function(n,e,t){t.r(e),t.d(e,{default:function(){return X}});var r,i,a,s,o,c,l,u,d,p,m,x,h,f,g,Z=t(885),b=t(168),j=t(2791),v=t(5048),C=t(706),P=t(6754),y=t(9686),k=t(8820),w=t(7281),z=t(371),A=t(6960),F=t(7939),M=F.ZP.ul(r||(r=(0,b.Z)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  padding: 0 4px;\n  gap: 12px;\n\n  @media screen and (min-width: ",") {\n    gap: 20px;\n    grid-template-columns: 1fr 1fr;\n  }\n\n  @media screen and (min-width: ",") {\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: 30px;\n  }\n"])),(function(n){return n.theme.breakpoints[1]}),(function(n){return n.theme.breakpoints[2]})),S=F.ZP.label(i||(i=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  > p {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.main})),_=F.ZP.form(a||(a=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  gap: 30px;\n  width: 300px;\n"]))),B=t(3329),D=function(){var n=(0,C.useCreateContactMutation)(),e=(0,Z.Z)(n,2),t=e[0],r=e[1],i=r.isLoading,a=r.isSuccess,s=(0,v.I0)();return(0,j.useEffect)((function(){a&&(A.Am.success("Contact created"),s((0,P.Mr)()))}),[s,a]),(0,B.jsxs)(_,{onSubmit:function(n){n.preventDefault();var e=n.target,r=e.elements.name.value.trim(),i=e.elements.number.value.trim();if(!r||!i)return A.Am.error("Please fill name and phone");t({name:r,number:i}),e.reset()},autoComplete:"off",children:[(0,B.jsxs)(S,{children:[(0,B.jsx)("p",{children:"Name"}),(0,B.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. e.g. Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,B.jsxs)(S,{children:[(0,B.jsx)("p",{children:"Number"}),(0,B.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and may start with +",required:!0})]}),(0,B.jsxs)(z.Z,{type:"submit",variant:"contained",disabled:i,children:[i&&(0,B.jsx)(w.Ho,{}),"Create Contact"]})]})},H=t(4942),L=t(2316),N=F.ZP.li(s||(s=(0,b.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 4px 16px 4px 4px;\n  background-color: ",";\n"])),(function(n){return n.theme.colors.contact.bg})),O=F.ZP.input(o||(o=(0,b.Z)(["\n  width: 55%;\n"]))),q=F.ZP.input(c||(c=(0,b.Z)(["\n  width: 40%;\n"]))),I=(0,F.ZP)(L.O)(l||(l=(0,b.Z)(["\n  position: absolute;\n  top: -8px;\n  right: -12px;\n"]))),V=function(n){var e=n.id,t=n.name,r=n.number,i=(0,C.useUpdateContactMutation)(),a=(0,Z.Z)(i,2),s=a[0],o=a[1].isLoading,c=(0,C.useDeleteContactMutation)(),l=(0,Z.Z)(c,2),u=l[0],d=l[1].isLoading,p=(0,j.useState)(t),m=(0,Z.Z)(p,2),x=m[0],h=m[1],f=(0,j.useState)(r),g=(0,Z.Z)(f,2),b=g[0],v=g[1],P=function(n){return s((0,H.Z)({id:e},n.target.name,n.target.value))},y=o||d;return(0,B.jsxs)(N,{children:[(0,B.jsx)(O,{type:"text",name:"name",value:x,onChange:function(n){return h(n.target.value)},onBlur:P,disabled:y}),(0,B.jsx)(q,{type:"tel",name:"number",value:b,onChange:function(n){return v(n.target.value)},onBlur:P,disabled:y}),(0,B.jsx)(I,{onClick:function(){return u(e)},disabled:y,children:(0,B.jsx)(k.oHP,{size:20})})]})},W=function(n){var e=n.contacts;return console.log(e)||(0,B.jsx)(M,{children:e.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,B.jsx)(V,{id:e,name:t,number:r},e)}))})},$=F.ZP.div(u||(u=(0,b.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n"]))),E=F.ZP.label(d||(d=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 280px;\n"]))),J=F.ZP.input(p||(p=(0,b.Z)(["\n  width: 100%;\n  font-size: inherit;\n  padding: 4px;\n  background-color: ",";\n"])),(function(n){return n.theme.colors.bgProjectCard})),Q=(0,F.ZP)(L.O)(m||(m=(0,b.Z)(["\n  color: ",";\n  background-color: ",";\n"])),(function(n){return n.theme.colors.button.secondary.fg}),(function(n){return n.theme.colors.button.secondary.bg})),R=(0,F.ZP)(w.Ho).attrs({width:30,height:20})(x||(x=(0,b.Z)(["\n  position: absolute;\n  right: -28px;\n"]))),U=F.ZP.p(h||(h=(0,b.Z)(["\n  margin-bottom: 20px;\n"]))),G=function(n){var e=n.filter,t=n.setFilter,r=n.isFetching;return(0,B.jsxs)($,{children:[(0,B.jsx)(E,{children:(0,B.jsx)(J,{value:e,onChange:function(n){return t(n.target.value)}})}),(0,B.jsx)(Q,{onClick:function(){return t("")},children:"Clear"}),r&&(0,B.jsx)(R,{})]})},K=(0,F.ZP)(w.W2)(f||(f=(0,b.Z)([""]))),T=F.ZP.div(g||(g=(0,b.Z)(["\n  display: flex;\n  gap: 50px;\n  margin-bottom: 30px;\n"]))),X=function(){var n=(0,C.useReadContactsQuery)(),e=n.data,t=n.isFetching,r=(0,y.Jr)(),i=(0,v.I0)(),a=(0,j.useState)(""),s=(0,Z.Z)(a,2),o=s[0],c=s[1],l=(0,j.useMemo)((function(){return(0,C.getVisibleContacts)(e,o)}),[e,o]);return(0,B.jsx)(w.$0,{children:(0,B.jsxs)(K,{children:[(0,B.jsx)("h1",{children:"Contacts"}),(0,B.jsx)(U,{children:r.contactsView.filterDesc}),(0,B.jsxs)(T,{children:[(0,B.jsx)(G,{isFetching:t,filter:o,setFilter:c}),(0,B.jsx)(z.Z,{color:"info",variant:"contained",onClick:function(){return i((0,P.h7)())},children:(0,B.jsx)(k.OzW,{size:24})})]}),(0,B.jsx)(w.u_,{children:(0,B.jsx)(D,{})}),e&&(0,B.jsx)(W,{contacts:l})]})})}}}]);
//# sourceMappingURL=494.d5489a76.chunk.js.map