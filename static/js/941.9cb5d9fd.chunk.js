"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[941],{5941:function(e,n,r){r.r(n);var t,i,c,o,l,s,a,u,d=r(5861),p=r(885),h=r(1413),f=r(168),x=r(7757),g=r.n(x),m=r(2791),j=r(9686),v=r(8909),b=r(7939),Z=r(371),w=r(6960),k=r(8129),D=r(4569),F=r.n(D),R=r(7831),P=r(3329),y=(0,b.ZP)(v.W2)(t||(t=(0,f.Z)([""]))),L=b.ZP.form(i||(i=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  gap: 30px;\n"]))),A=console,U=A.log,C=A.error,_=b.ZP.div(c||(c=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  min-height: 80px;\n  padding: 20px;\n\n  color: #888888;\n  text-align: center;\n\n  background-color: #fafafa;\n  border: 2px dashed ",";\n  outline: none;\n\n  :hover {\n    border-color: ",";\n  }\n\n  transition: border-color ",";\n"])),(function(e){return function(e){var n=e.isDragAccept,r=e.isDragReject;return e.isFocused?"#2196f3":n?"#00e676":r?"#ff1755":"#eeeeee"}(e)}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.transition})),B=function(e){return e.map((function(e){return(0,P.jsxs)("li",{children:[console.log(e.path),e.path," - ",Math.ceil(e.size/1e3)," KB"]},e.path)}))},E=b.ZP.aside(o||(o=(0,f.Z)([""]))),O=b.ZP.ul(l||(l=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 16px;\n"]))),S=b.ZP.li(s||(s=(0,f.Z)(["\n  display: inline-flex;\n  width: 100px;\n  height: 100px;\n  padding: 4px;\n  margin-right: 8px;\n  margin-bottom: 8px;\n\n  border: 1px solid #eaeaea;\n  border-radius: 2px;\n\n  transition: transform ",";\n\n  :hover,\n  :focus {\n    transform: scale(3);\n  }\n"])),(function(e){return e.theme.transition})),z=b.ZP.div(a||(a=(0,f.Z)(["\n  display: flex;\n  min-width: 0;\n  overflow: hidden;\n  contain: content;\n"]))),I=b.ZP.img(u||(u=(0,f.Z)(["\n  display: block;\n  width: auto;\n  height: 100%;\n"]))),K=function(e){return e.map((function(e){return(0,P.jsxs)(S,{children:[console.log({thumb:e.path}),(0,P.jsx)(z,{children:(0,P.jsx)(I,{src:e.preview,onLoad:function(){URL.revokeObjectURL(e.preview)},alt:e.path})})]},e.path)}))},M=function(e){var n,r=e.files,t=e.setFiles,i=(0,m.useCallback)((function(e){t(e.map((function(e){return(0,h.Z)((0,h.Z)({},e),{},{preview:URL.createObjectURL(e)})})))}),[t]),c=(0,R.uI)({accept:{"image/jpeg":[],"image/png":[]},onDrop:i}),o=c.acceptedFiles,l=c.fileRejections,s=c.getRootProps,a=c.getInputProps,u=c.isFocused,d=c.isDragAccept,p=c.isDragReject,f=c.isDragActive;return(0,m.useEffect)((function(){return function(){return r.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[r]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(_,(0,h.Z)((0,h.Z)({},s({isFocused:u,isDragAccept:d,isDragReject:p})),{},{children:[(0,P.jsx)("input",(0,h.Z)({},a())),f&&(0,P.jsx)("p",{children:"Drop the files here"}),d&&(0,P.jsx)("p",{children:"All files will be accepted"}),p&&(0,P.jsx)("p",{children:"Some files will be rejected"}),!f&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"}),(0,P.jsx)("em",{children:"(*.jpeg and *.png images)"})]})]})),(0,P.jsxs)(E,{children:[(null===o||void 0===o?void 0:o.length)>0&&(0,P.jsx)(O,{children:K(r)}),(null===o||void 0===o?void 0:o.length)>0&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h3",{children:"Accepted files"}),(0,P.jsx)("ul",{children:B(o)})]}),(null===l||void 0===l?void 0:l.length)>0&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h3",{children:"Rejected files"}),(0,P.jsx)("ul",{children:(n=l,n.map((function(e){var n=e.file,r=e.errors;return(0,P.jsxs)("li",{children:[console.log({name:n.name,path:n.path}),n.path," - ",Math.ceil(n.size/1e3)," KB",(0,P.jsx)("ul",{children:r.map((function(e){return(0,P.jsxs)("li",{children:[console.log(e.code),e.message]},e.code)}))})]},n.path)})))})]})]})]})};n.default=function(){var e=(0,j.Jr)(),n=(0,m.useState)([]),r=(0,p.Z)(n,2),t=r[0],i=r[1],c=(0,m.useCallback)(function(){var e=(0,d.Z)(g().mark((function e(n){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=n.target,console.log({files:t}),t.length){e.next=5;break}return e.abrupt("return",w.Am.error("Please add file"));case 5:return i=new FormData,t.forEach((function(e){return i.append("image",e,e.name)})),e.prev=7,e.next=10,F().post("/upload",i).then(U).catch(C);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0);case 15:r.reset();case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(n){return e.apply(this,arguments)}}(),[t]);return(0,P.jsx)(v.$0,{children:(0,P.jsxs)(y,{children:[(0,P.jsx)(k.N,{children:e.upload}),(0,P.jsxs)(L,{onSubmit:c,children:[(0,P.jsx)(M,{files:t,setFiles:i}),(0,P.jsx)(Z.Z,{type:"submit",variant:"contained",children:e.uploadView.addFileButtonLabel})]})]})})}}}]);
//# sourceMappingURL=941.9cb5d9fd.chunk.js.map